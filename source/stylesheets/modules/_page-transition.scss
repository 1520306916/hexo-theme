@charset "utf-8";

html,
body {
  overflow: hidden;
  width: 100%;
  height: 100%;
}

// 加载动画
body.load {
  #masthead,
  #mastfoot,
  main{
    opacity: 1;
    top: 0;
  }

  #site-menu{
    top: 0;
  }

  #loading {
    opacity: 0;
    visibility: hidden;
  }
}

#outer-container {
  height: 100%;
  overflow: auto;
}

#masthead,
#mastfoot,
main {
  position: relative;
  opacity: 0;
  top: 50px;
  background-color: #fff;
  @include transition($page-load-animation);
}

#site-menu {
  position: relative;
  top: -$navbar-height;
  z-index: 99;
  @include transition($page-load-animation);

  // 位置样式需覆盖原本的页面过度动画样式
  &.fixed {
    position: fixed;
    opacity: 0.95;
    top: -$navbar-height !important;
    box-shadow: 0 0 6px rgba(0,0,0,.3);
  }

  &.load {
    top: 0 !important;
  }
}

#loading {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  background-color: $page-load-bg-color;
  @include transition($page-load-animation);
}

#loading-box {
  height: $page-load-bar-height;
  position: absolute;
  top: 50%;
  left: 50%;
  @include transform(translate(-50%, -50%));
  text-align: center;

  > div {
    display: inline-block;
    width: $page-load-bar-width;
    height: 100%;
    background-color: $page-load-front-color;
    border-radius: 4px;
    @include animation(loading 1s infinite cubic-bezier(.85, .25, .37, .85));

    &:first-child,
    &:last-child {
      @include animation-delay(.4s);
    }

    &:nth-child(2n) {
      @include animation-delay(.2s);
    }
  }
}

@include keyframes(loading) {
  50% {
    @include transform(scaley(.3));
  }
}